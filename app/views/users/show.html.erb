<div class="mx-auto w-full max-w-4xl p-8">
  <div class="flex flex-col md:flex-row">
    <div class="md:w-1/3 text-center mb-8 md:mb-0">
      <h1 class="text-4xl font-bold text-[#DB2955] mb-4">Profile</h1>
      <% if @user.barcode.attached? %>
        <div class="my-4">
          <%= image_tag @user.barcode, alt: "Barcode for #{@user.name}", class: "mx-auto" %>
          <p class="-mt-3"><%= @user.barcode_string %></p>
        </div>
      <% end %>
      <div class="grid grid-cols-3 md:grid-cols-1 text-center">
        <div class="mb-0 md:mb-4">
          <p class="font-bold text-gray-700 text-3xl"><%= @user.personal_best&.time_string || "â€”" %></p>
          <p class="text-gray-500">Personal Best</p>
        </div>
        <div class="mb-0 md:mb-4">
          <p class="font-bold text-gray-700 text-3xl"><%= @user.results.size %></p>
          <p class="text-gray-500">Runs Completed</p>
        </div>
        <div class="mb-0 md:mb-4">
          <p class="font-bold text-gray-700 text-3xl"><%= @user.volunteers.size %></p>
          <p class="text-gray-500">Times Volunteered</p>
        </div>
      </div>
      <div class="mt-4">
        <%= link_to user_results_path(@user.barcode_string), class: "inline-flex items-center gap-x-1.5 rounded-md bg-[#DB2955] px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-[#DB2955]/[90%]" do %>
          View All Results
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z" />
          </svg>
        <% end %>
      </div>
    </div>
    <div class="md:w-2/3 md:pl-8">
      <h2 class="text-2xl font-semibold text-[#DB2955] my-2">Personal Information</h2>
      <p class="text-lg text-gray-700 mb-2">
          Your name and email address are never shared publicly, I only use them to send you your results.
      </p>
      <ul class="space-y-2 mb-8 text-xl text-gray-700">
        <li class="flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-2 text-[#DB2955]" viewBox="0 0 24 24" fill="currentColor">
                <path d="M3.53 2.47a.75.75 0 0 0-1.06 1.06l18 18a.75.75 0 1 0 1.06-1.06l-18-18ZM22.676 12.553a11.249 11.249 0 0 1-2.631 4.31l-3.099-3.099a5.25 5.25 0 0 0-6.71-6.71L7.759 4.577a11.217 11.217 0 0 1 4.242-.827c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113Z" />
                <path d="M15.75 12c0 .18-.013.357-.037.53l-4.244-4.243A3.75 3.75 0 0 1 15.75 12ZM12.53 15.713l-4.243-4.244a3.75 3.75 0 0 0 4.244 4.243Z" />
                <path d="M6.75 12c0-.619.107-1.213.304-1.764l-3.1-3.1a11.25 11.25 0 0 0-2.63 4.31c-.12.362-.12.752 0 1.114 1.489 4.467 5.704 7.69 10.675 7.69 1.5 0 2.933-.294 4.242-.827l-2.477-2.477A5.25 5.25 0 0 1 6.75 12Z" />
            </svg>
            <%= @user.name %>
        </li>
        <li class="flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-2 text-[#DB2955]" viewBox="0 0 24 24" fill="currentColor">
                <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
                <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
            </svg>
            <%= @user.email_address %>
        </li>
      </ul>
      <h2 class="text-2xl font-semibold text-[#DB2955] mb-2">Public Information</h2>
      <p class="text-lg text-gray-700 mb-2">
          Display name and emoji are shown on the public results page. Your display name can be your full name, a nickname, a pseudonym or just your initials. Feel free to pick an emoji that reflects your personality or interests. Changing either of these will update your details in historical results displays too.
      </p>
      <ul class="space-y-2 mb-8 text-xl text-gray-700">
        <li class="flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-2 text-[#DB2955]" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" />
                <path fill-rule="evenodd" d="M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z" clip-rule="evenodd" />
            </svg>
            <%= @user.display_name %>
        </li>
        <li class="flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-2 text-[#DB2955]" viewBox="0 0 24 24" fill="currentColor">
                <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-2.625 6c-.54 0-.828.419-.936.634a1.96 1.96 0 0 0-.189.866c0 .298.059.605.189.866.108.215.395.634.936.634.54 0 .828-.419.936-.634.13-.26.189-.568.189-.866 0-.298-.059-.605-.189-.866-.108-.215-.395-.634-.936-.634Zm4.314.634c.108-.215.395-.634.936-.634.54 0 .828.419.936.634.13.26.189.568.189.866 0 .298-.059.605-.189.866-.108.215-.395.634-.936.634-.54 0-.828-.419-.936-.634a1.96 1.96 0 0 1-.189-.866c0-.298.059-.605.189-.866Zm2.023 6.828a.75.75 0 1 0-1.06-1.06 3.75 3.75 0 0 1-5.304 0 .75.75 0 0 0-1.06 1.06 5.25 5.25 0 0 0 7.424 0Z" clip-rule="evenodd" />
            </svg>
            <%= @user.emoji %>
        </li>
      </ul>
      <%= link_to edit_user_path, class:"inline-flex items-center gap-x-1.5 rounded-md bg-[#DB2955] px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-[#DB2955]/[90%] focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600" do %>
        Edit profile (or password)
        <svg class="-mr-0.5 size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
          <path d="m5.433 13.917 1.262-3.155A4 4 0 0 1 7.58 9.42l6.92-6.918a2.121 2.121 0 0 1 3 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 0 1-.65-.65Z" />
          <path d="M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0 0 10 3H4.75A2.75 2.75 0 0 0 2 5.75v9.5A2.75 2.75 0 0 0 4.75 18h9.5A2.75 2.75 0 0 0 17 15.25V10a.75.75 0 0 0-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5Z" />
        </svg>
      <% end %>
    </div>
  </div>
</div>
